{"ast":null,"code":"// import React, { useState, useEffect } from \"react\";\n// import { Grid, IconButton, Paper, TextField, Typography } from \"@mui/material\";\n\n// import AddIcon from \"@mui/icons-material/Add\";\n// import RemoveIcon from \"@mui/icons-material/Remove\";\n// import { ApiService } from \"../Services/ApiService\";\n\n// const MemberBillingDetails = ({ formData, setFormData, isDatafetched }) => {\n//   const [memberData, setMemberData] = useState([]);\n\n//   useEffect(() => {\n//     fetchMemberBillingDetails(agreementNumber);\n//   }, [agreementNumber]);\n\n//   const fetchMemberBillingDetails = async (agreementNumber) => {\n//     try {\n//       const memberBillingData = await ApiService.fetchMemberBillingDetails(\n//         agreementNumber\n//       );\n//       setMemberData(memberBillingData);\n//     } catch (error) {\n//       console.error(\"Error fetching member billing details:\", error);\n//     }\n//   };\n\n//   const handleInputChange = (e, index) => {\n//     const { name, value } = e.target;\n//     const updatedData = [...memberData];\n//     updatedData[index][name] = value;\n//     setMemberData(updatedData);\n//   };\n\n//   const handleInputChangeMisc = (e) => {\n//     const { name, value } = e.target;\n//     setFormData((prevData) => ({\n//       ...prevData,\n//       [name]: value,\n//     }));\n//   };\n\n//   const onAddMember = () => {\n//     setMemberData([...memberData, { level: \"\", members: \"\", pricing: \"\" }]);\n//   };\n\n//   const onRemoveMember = (index) => {\n//     const updatedMemberData = [...memberData];\n//     updatedMemberData.splice(index, 1);\n//     setMemberData(updatedMemberData);\n//   };\n\n//   const calculateSrvcBudget = () => {\n//     let totalServiceCost = 0;\n\n//     memberData.forEach((member) => {\n//       const members = Number(member.members);\n//       const pricing = Number(member.pricing);\n//       const memberCost = members * pricing;\n//       totalServiceCost += memberCost;\n//     });\n\n//     // Update form data with the total service cost\n//     formData.srvcMonthlyCost = totalServiceCost;\n\n//     // Update remaining budget\n//     const remainingBudget = formData.srvcCost - totalServiceCost;\n//     formData.srvcRemainBdgt = remainingBudget;\n\n//     // Update levelInfo array\n//     const levelInfo = memberData.map((member) => ({\n//       member: Number(member.members),\n//       level: Number(member.level),\n//       price: Number(member.pricing),\n//     }));\n\n//     formData.levelInfo = levelInfo;\n\n//     setFormData((prevData) => ({\n//       ...prevData,\n//       srvcMonthlyCost: totalServiceCost,\n//       srvcRemainBdgt: remainingBudget,\n//       levelInfo: levelInfo,\n//     }));\n//   };\n\n//   const calculateMiscBudget = () => {\n//     const monthly_miscellaneous = formData.miscPricing;\n//     formData.miscMonthlyBdgt = formData.miscPricing;\n\n//     const remaining_miscellaneous =\n//       formData.miscCost - formData.miscMonthlyBdgt;\n//     formData.miscRemainBdgt = formData.miscCost - formData.miscMonthlyBdgt;\n\n//     const mnthly_budget =\n//       Number(formData.srvcMonthlyCost) + Number(formData.miscMonthlyBdgt);\n//     formData.totalMonthlyBdgt = mnthly_budget;\n\n//     const rmng_budget =\n//       Number(formData.srvcRemainBdgt) + Number(formData.miscRemainBdgt);\n//     formData.totalRemainBdgt = rmng_budget;\n\n//     setFormData((prevData) => ({\n//       ...prevData,\n//       miscMonthlyBdgt: monthly_miscellaneous,\n//       miscRemainBdgt: remaining_miscellaneous,\n//       totalMonthlyBdgt: mnthly_budget,\n//       totalRemainBdgt: rmng_budget,\n//     }));\n//   };\n\n//   return (\n//     <Paper elevation={3} style={{ padding: \"5px\", margin: \"5px\" }}>\n//       <div\n//         style={{ display: \"flex\", alignItems: \"center\", marginBottom: \"5px\" }}\n//       >\n//         <div style={{ flex: 1, backgroundColor: \"#93014A\", height: \"3px\" }} />\n//         <p style={{ margin: \"0 10px\", fontSize: \"20px\" }}>Billing Details</p>\n//         <div style={{ flex: 1, backgroundColor: \"#93014A\", height: \"3px\" }} />\n//       </div>\n\n//       <Grid item xs={3.5} marginTop={1.5}>\n//         <Typography variant=\"body1\">Service Cost Details</Typography>\n//       </Grid>\n\n//       {memberData.map((member, index) => (\n//         <Grid\n//           container\n//           spacing={1}\n//           key={index}\n//           marginTop={0.001}\n//           marginLeft={2}\n//         >\n//           <Grid item xs={3.5}>\n//             <TextField\n//               label={`Level`}\n//               type=\"number\"\n//               name=\"level\"\n//               value={member.level}\n//               onChange={(e) => handleInputChange(e, index)}\n//               fullWidth\n//             />\n//           </Grid>\n//           <Grid item xs={3.5}>\n//             <TextField\n//               label={`Members`}\n//               type=\"number\"\n//               name=\"members\"\n//               value={member.members}\n//               onChange={(e) => handleInputChange(e, index)}\n//               fullWidth\n//             />\n//           </Grid>\n//           <Grid item xs={3.5}>\n//             <TextField\n//               label={`Pricing (€)`}\n//               type=\"number\"\n//               name=\"pricing\"\n//               value={member.pricing}\n//               onChange={(e) => handleInputChange(e, index)}\n//               fullWidth\n//             />\n//           </Grid>\n\n//           <Grid item xs={0.5}>\n//             <IconButton\n//               color=\"error\"\n//               onClick={() => onRemoveMember(index)}\n//               disabled={memberData.length === 1}\n//               style={{\n//                 backgroundColor: \"Background\",\n//                 borderRadius: \"50%\",\n//                 width: \"26px\",\n//                 height: \"26px\",\n//                 padding: \"0\",\n//                 marginTop: \"15px\",\n//                 marginLeft: \"10px\",\n//               }}\n//             >\n//               <RemoveIcon />\n//             </IconButton>\n//           </Grid>\n\n//           <Grid item xs={0.5}>\n//             <IconButton\n//               color=\"primary\"\n//               startIcon={<AddIcon />}\n//               onClick={onAddMember}\n//               style={{\n//                 backgroundColor: \"Background\",\n//                 borderRadius: \"50%\",\n//                 width: \"26px\",\n//                 height: \"26px\",\n//                 padding: \"0\",\n//                 marginTop: \"15px\",\n//                 marginLeft: \"5px\",\n//               }}\n//             >\n//               <AddIcon />\n//             </IconButton>\n//           </Grid>\n//         </Grid>\n//       ))}\n\n//       <Grid item xs={3.5} marginTop={0.8}>\n//         <Typography variant=\"body1\">Miscellaneous Details</Typography>\n//       </Grid>\n\n//       {/* Justification */}\n//       <Grid item xs={12} marginBottom={1}>\n//         <Grid container spacing={1} marginLeft={2} marginTop={0.001}>\n//           <Grid item xs={3.5} alignSelf={\"center\"}>\n//             <TextField\n//               label=\"Pricing (€)\"\n//               name=\"miscPricing\"\n//               value={formData.miscPricing}\n//               onChange={handleInputChangeMisc}\n//               onBlur={calculateMiscBudget}\n//               fullWidth\n//             />\n//           </Grid>\n//           <Grid item xs={6.7}>\n//             <TextField\n//               label=\"Justification for Miscellaneous Cost\"\n//               name=\"justification\"\n//               value={formData.justification}\n//               onChange={handleInputChangeMisc}\n//               onBlur={calculateMiscBudget}\n//               fullWidth\n//             />\n//           </Grid>\n//         </Grid>\n//       </Grid>\n//     </Paper>\n//   );\n// };\n\n// export default MemberBillingDetails;","map":{"version":3,"names":[],"sources":["C:/Users/EA17TAE.VW/Desktop/Project/front-end/src/Components/MemberBillingDetails.js"],"sourcesContent":["// import React, { useState, useEffect } from \"react\";\r\n// import { Grid, IconButton, Paper, TextField, Typography } from \"@mui/material\";\r\n\r\n// import AddIcon from \"@mui/icons-material/Add\";\r\n// import RemoveIcon from \"@mui/icons-material/Remove\";\r\n// import { ApiService } from \"../Services/ApiService\";\r\n\r\n// const MemberBillingDetails = ({ formData, setFormData, isDatafetched }) => {\r\n//   const [memberData, setMemberData] = useState([]);\r\n\r\n//   useEffect(() => {\r\n//     fetchMemberBillingDetails(agreementNumber);\r\n//   }, [agreementNumber]);\r\n\r\n//   const fetchMemberBillingDetails = async (agreementNumber) => {\r\n//     try {\r\n//       const memberBillingData = await ApiService.fetchMemberBillingDetails(\r\n//         agreementNumber\r\n//       );\r\n//       setMemberData(memberBillingData);\r\n//     } catch (error) {\r\n//       console.error(\"Error fetching member billing details:\", error);\r\n//     }\r\n//   };\r\n\r\n//   const handleInputChange = (e, index) => {\r\n//     const { name, value } = e.target;\r\n//     const updatedData = [...memberData];\r\n//     updatedData[index][name] = value;\r\n//     setMemberData(updatedData);\r\n//   };\r\n\r\n//   const handleInputChangeMisc = (e) => {\r\n//     const { name, value } = e.target;\r\n//     setFormData((prevData) => ({\r\n//       ...prevData,\r\n//       [name]: value,\r\n//     }));\r\n//   };\r\n\r\n//   const onAddMember = () => {\r\n//     setMemberData([...memberData, { level: \"\", members: \"\", pricing: \"\" }]);\r\n//   };\r\n\r\n//   const onRemoveMember = (index) => {\r\n//     const updatedMemberData = [...memberData];\r\n//     updatedMemberData.splice(index, 1);\r\n//     setMemberData(updatedMemberData);\r\n//   };\r\n\r\n//   const calculateSrvcBudget = () => {\r\n//     let totalServiceCost = 0;\r\n\r\n//     memberData.forEach((member) => {\r\n//       const members = Number(member.members);\r\n//       const pricing = Number(member.pricing);\r\n//       const memberCost = members * pricing;\r\n//       totalServiceCost += memberCost;\r\n//     });\r\n\r\n//     // Update form data with the total service cost\r\n//     formData.srvcMonthlyCost = totalServiceCost;\r\n\r\n//     // Update remaining budget\r\n//     const remainingBudget = formData.srvcCost - totalServiceCost;\r\n//     formData.srvcRemainBdgt = remainingBudget;\r\n\r\n//     // Update levelInfo array\r\n//     const levelInfo = memberData.map((member) => ({\r\n//       member: Number(member.members),\r\n//       level: Number(member.level),\r\n//       price: Number(member.pricing),\r\n//     }));\r\n\r\n//     formData.levelInfo = levelInfo;\r\n\r\n//     setFormData((prevData) => ({\r\n//       ...prevData,\r\n//       srvcMonthlyCost: totalServiceCost,\r\n//       srvcRemainBdgt: remainingBudget,\r\n//       levelInfo: levelInfo,\r\n//     }));\r\n//   };\r\n\r\n//   const calculateMiscBudget = () => {\r\n//     const monthly_miscellaneous = formData.miscPricing;\r\n//     formData.miscMonthlyBdgt = formData.miscPricing;\r\n\r\n//     const remaining_miscellaneous =\r\n//       formData.miscCost - formData.miscMonthlyBdgt;\r\n//     formData.miscRemainBdgt = formData.miscCost - formData.miscMonthlyBdgt;\r\n\r\n//     const mnthly_budget =\r\n//       Number(formData.srvcMonthlyCost) + Number(formData.miscMonthlyBdgt);\r\n//     formData.totalMonthlyBdgt = mnthly_budget;\r\n\r\n//     const rmng_budget =\r\n//       Number(formData.srvcRemainBdgt) + Number(formData.miscRemainBdgt);\r\n//     formData.totalRemainBdgt = rmng_budget;\r\n\r\n//     setFormData((prevData) => ({\r\n//       ...prevData,\r\n//       miscMonthlyBdgt: monthly_miscellaneous,\r\n//       miscRemainBdgt: remaining_miscellaneous,\r\n//       totalMonthlyBdgt: mnthly_budget,\r\n//       totalRemainBdgt: rmng_budget,\r\n//     }));\r\n//   };\r\n\r\n//   return (\r\n//     <Paper elevation={3} style={{ padding: \"5px\", margin: \"5px\" }}>\r\n//       <div\r\n//         style={{ display: \"flex\", alignItems: \"center\", marginBottom: \"5px\" }}\r\n//       >\r\n//         <div style={{ flex: 1, backgroundColor: \"#93014A\", height: \"3px\" }} />\r\n//         <p style={{ margin: \"0 10px\", fontSize: \"20px\" }}>Billing Details</p>\r\n//         <div style={{ flex: 1, backgroundColor: \"#93014A\", height: \"3px\" }} />\r\n//       </div>\r\n\r\n//       <Grid item xs={3.5} marginTop={1.5}>\r\n//         <Typography variant=\"body1\">Service Cost Details</Typography>\r\n//       </Grid>\r\n\r\n//       {memberData.map((member, index) => (\r\n//         <Grid\r\n//           container\r\n//           spacing={1}\r\n//           key={index}\r\n//           marginTop={0.001}\r\n//           marginLeft={2}\r\n//         >\r\n//           <Grid item xs={3.5}>\r\n//             <TextField\r\n//               label={`Level`}\r\n//               type=\"number\"\r\n//               name=\"level\"\r\n//               value={member.level}\r\n//               onChange={(e) => handleInputChange(e, index)}\r\n//               fullWidth\r\n//             />\r\n//           </Grid>\r\n//           <Grid item xs={3.5}>\r\n//             <TextField\r\n//               label={`Members`}\r\n//               type=\"number\"\r\n//               name=\"members\"\r\n//               value={member.members}\r\n//               onChange={(e) => handleInputChange(e, index)}\r\n//               fullWidth\r\n//             />\r\n//           </Grid>\r\n//           <Grid item xs={3.5}>\r\n//             <TextField\r\n//               label={`Pricing (€)`}\r\n//               type=\"number\"\r\n//               name=\"pricing\"\r\n//               value={member.pricing}\r\n//               onChange={(e) => handleInputChange(e, index)}\r\n//               fullWidth\r\n//             />\r\n//           </Grid>\r\n\r\n//           <Grid item xs={0.5}>\r\n//             <IconButton\r\n//               color=\"error\"\r\n//               onClick={() => onRemoveMember(index)}\r\n//               disabled={memberData.length === 1}\r\n//               style={{\r\n//                 backgroundColor: \"Background\",\r\n//                 borderRadius: \"50%\",\r\n//                 width: \"26px\",\r\n//                 height: \"26px\",\r\n//                 padding: \"0\",\r\n//                 marginTop: \"15px\",\r\n//                 marginLeft: \"10px\",\r\n//               }}\r\n//             >\r\n//               <RemoveIcon />\r\n//             </IconButton>\r\n//           </Grid>\r\n\r\n//           <Grid item xs={0.5}>\r\n//             <IconButton\r\n//               color=\"primary\"\r\n//               startIcon={<AddIcon />}\r\n//               onClick={onAddMember}\r\n//               style={{\r\n//                 backgroundColor: \"Background\",\r\n//                 borderRadius: \"50%\",\r\n//                 width: \"26px\",\r\n//                 height: \"26px\",\r\n//                 padding: \"0\",\r\n//                 marginTop: \"15px\",\r\n//                 marginLeft: \"5px\",\r\n//               }}\r\n//             >\r\n//               <AddIcon />\r\n//             </IconButton>\r\n//           </Grid>\r\n//         </Grid>\r\n//       ))}\r\n\r\n//       <Grid item xs={3.5} marginTop={0.8}>\r\n//         <Typography variant=\"body1\">Miscellaneous Details</Typography>\r\n//       </Grid>\r\n\r\n//       {/* Justification */}\r\n//       <Grid item xs={12} marginBottom={1}>\r\n//         <Grid container spacing={1} marginLeft={2} marginTop={0.001}>\r\n//           <Grid item xs={3.5} alignSelf={\"center\"}>\r\n//             <TextField\r\n//               label=\"Pricing (€)\"\r\n//               name=\"miscPricing\"\r\n//               value={formData.miscPricing}\r\n//               onChange={handleInputChangeMisc}\r\n//               onBlur={calculateMiscBudget}\r\n//               fullWidth\r\n//             />\r\n//           </Grid>\r\n//           <Grid item xs={6.7}>\r\n//             <TextField\r\n//               label=\"Justification for Miscellaneous Cost\"\r\n//               name=\"justification\"\r\n//               value={formData.justification}\r\n//               onChange={handleInputChangeMisc}\r\n//               onBlur={calculateMiscBudget}\r\n//               fullWidth\r\n//             />\r\n//           </Grid>\r\n//         </Grid>\r\n//       </Grid>\r\n//     </Paper>\r\n//   );\r\n// };\r\n\r\n// export default MemberBillingDetails;"],"mappings":"AAAA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA"},"metadata":{},"sourceType":"module","externalDependencies":[]}